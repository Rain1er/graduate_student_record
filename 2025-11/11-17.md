## 11-17日报

## 1. 关于最近的攻防

今天早上六点就起床了，不知道是否是起床太早的原因，头晕晕的，攻防开放了政务外网的权限。但面对众多资产，无法找到自己想要的， 也不知道利用什么nday。做不到快速的打点。  

所以今天思考了一下漏洞的编排方案。

- nuclei用于快速验证漏洞的存在性，主要用到golang的轻量级高并发特点。

> 对于简单的http请求的漏洞也使用该方案，对于一些好用的模板，提取出来按照自己的思路进行重新分类。

- 对于复杂一点的漏洞使用Java swing进行开发gui利用

> 这里主要是指Java反序列化漏洞的利用，burpsuite插件开发等（这里可以使用kotlin简化一些开发）

- C#开发gui（WPF）进行漏洞利用

## 2. CTF题目

周末和今天做了一下FXZ的CTF题目，还是蛮有收获的。  

我发现我复现漏洞最大的问题是懒得搭建环境，所以我要努力学习使用docker来快速搭建环境复现了。同时也要学习云服务器下的数据库取证，直接脱下来镜像。方便一些测试等。  

关于PHP快速起环境，我使用的是mattrayner/lamp:latest



## nacos 相关漏洞

nuclei poc + workflow快速验证、Java反序列化相关漏洞的利用（需要支持代理功能）  



## harbor 相关漏洞

CVE-2022-46463 (Harbor public镜像下载)Harbor是一款开源的镜像托管平台。   

> 通过列举所有的pulic镜像，支持dump操作（类似`docker pull`），方便从公开暴露的镜像中查找敏感泄漏信息。

1. 调用nuclei快速验证是否存在漏洞
2. python脚本批量download public镜像

> TODO：补充快速利用的命令

```
.
├── CVE-2022-46463
│   ├── harbor.py
│   ├── README.md
│   └── registry.py
├── CVE-2022-46463.zip
└── nuclei
    ├── CVE-2019-16097.yaml
    ├── CVE-2022-46463.yaml
    ├── harbor-detect.yaml
    ├── harbor-workflow.yaml
    └── harbor.txt
```

